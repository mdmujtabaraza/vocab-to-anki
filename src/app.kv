#:import Clipboard kivy.core.clipboard.Clipboard
<Check@MDCheckbox>:
    group: 'accents'
    size_hint: None, None
    size: dp(48), dp(48)

ScreenManager:
    id: screen_manager
    MenuScreen:
        id: menu_screen
    MeaningsScreen:
        id: meanings_screen

# MDLabel:
#     id: url_label
#     text: 'Vocab to Anki'
#     halign: 'center'
#     theme_text_color: 'Primary'
#     font_style: 'H6'
#     pos_hint: {'center_x': 0.5, 'center_y': 0.92}

<MenuScreen>:
    name: "menu_screen"
    MDBoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        MDToolbar:
            title: 'Vocab to Anki'
            anchor_title: 'center'
            # right_action_items: [["refresh", lambda x: app.get_running_app().restart()]]
            elevation: 10
        FloatLayout:
            # MDFlatButton:
            #     text: "Meanings"
            #     pos_hint: {'center_x': .8, 'center_y': .9}
            #     on_release: root.manager.current = 'meanings_screen'
            MDRaisedButton:
                id: dict_dropdown
                text: "Browse"
                font_style: 'Button'
                pos_hint: {"center_x": 0.5, 'center_y': 0.85}
                on_release: root.open_dropdown(dict_dropdown=True)
            MDTextField:
                id: word_input
                multiline: False
                hint_text: "Paste word/expression url here"
                helper_text: "ex: https://dictionary.cambridge.org/dictionary/english/water"
                helper_text_mode: "on_focus"
                # icon_right: "clipboard-file"
                # icon_right_color: app.theme_cls.primary_color
                pos_hint: {'center_x': 0.4, 'center_y': 0.7}
                size_hint_x: None
                width: 240
            MDIconButton:
                icon: "clipboard-file"
                pos_hint: {"center_x": .9, "center_y": .7}
                on_release: word_input.text = Clipboard.paste()
            # MDLabel:
            #     text: "Select Pronunciation Accent"
            #     theme_text_color: 'Primary'
            #     font_style: 'Body1'
            #     halign: 'center'
            #     pos_hint: {'center_x': 0.5, 'center_y': 0.58}
            GridLayout:
                cols: 2
                row_force_default: True
                row_default_height: 40
                col_force_default: True
                col_default_width: 180
                pos_hint: {'center_x': 0.26, 'center_y': 0.45}
                size_hint: (None, None)
                MDLabel:
                    text: "English (United Kingdom)"
                Check:
                    on_active: root.checkbox_click(self, self.active, "co.uk")
                MDLabel:
                    text: "English (United States)"
                Check:
                    active: True
                    on_active: root.checkbox_click(self, self.active, "com")
            MDRectangleFlatButton:
                text: 'Generate Anki Flashcard'
                font_style: 'Button'
                pos_hint: {'center_x': 0.5, 'center_y': 0.25}
                on_press: root.dialog_popup("Finding meanings...", "Still faster than Windows update")
                on_release: root.show_data()


<MeaningsScreen>:
    name: "meanings_screen"
    MDBoxLayout:
        spacing: "10dp"
        pos_hint: {"top": 1}
        adaptive_height: True
        orientation: "vertical"
        size: root.width, root.height

        MDToolbar:
            title: 'Vocab to Anki'
            anchor_title: 'center'
            left_action_items: [["arrow-left", lambda x: app.get_running_app().soft_restart()]]
            elevation: 10
        ScrollView:

            MDList:
                # spacing: '20dp'
                # padding: '25dp'
                id: meanings_container

<MeaningsPanelContent>
    # size_hint_y: None
    # height: self.minimum_height
    orientation: "vertical"
    padding: dp(10)
    spacing: dp(10)
    adaptive_height: True
